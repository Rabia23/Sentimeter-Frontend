<div class="header-holder">
  <div class="modal-header">
    <a ng-click="cancel()" class="pull-right close-btn-font">
      <i class="fa fa-times"></i>
    </a>
    <h2>
      Business Segment Breakdown <small> (<strong>{{total_feedback_count}}</strong>)</small>
    </h2>
  </div>
</div>
<div class="modal-detail">
  <div class="modal-body" ng-class="{loading: show_loading}">
    <div class="progress-box">
      <div class="progress-area">
        <div class="progress-holder" ng-repeat="dat in category_data" data-color="dat.colour" data-data="category_data" progress-bar-background>
          <div class="progress-inner">
            <small>
              <em>
                <a bar-click data-name = "dat.name" ng-if = "mainView">
                  {{dat.name}}
                </a>
                <span ng-if = "!mainView">
                  {{dat.name}}
                </span>
                <b>
                  {{dat.complaints}} complaints
                </b>
              </em>
            </small>
            <div class="progress-block main" bar-click data-name = "dat.name" ng-if = "mainView">
              <uib-progressbar animate="false" value="dat.percentage" type="success"></uib-progressbar>
            </div>
            <div class="progress-block" ng-if = "!mainView">
              <uib-progressbar animate="false" value="dat.percentage" type="success"></uib-progressbar>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="morris-block-holder">
      <div class="morris-content-holder" ng-repeat="segment in segments track by $index">
        <span ng-hide="segment.total_feedback_count==0"> Feedbacks: {{segment.total_feedback_count}} </span>
        <div class="morris-graph-holder">
          <div class="morris-holder">
            <div ng-hide="segment.show_string">
              <canvas id="doughnut" width="100" height="100" class="chart chart-doughnut" chart-data="segment.data" chart-labels="segment.labels" chart-colours="segment.colors" chart-options="segment.options"></canvas>
            </div>
            <div ng-show="segment.show_string">No Data Available</div>
          </div>
        </div>
        <strong class="title">{{segment.name}} ({{segment.total_option_count}}) </strong>
      </div>
    </div>
  </div>
</div>