<div id="wrapper">
  <toaster-container toaster-options="{'close-button': true}"></toaster-container>
  <div sidebar></div>
  <div id="page-wrapper" class="gray-bg">
    <div header></div>
    <a class="add-user" ng-click="open()" ng-hide="show_loading"><i class="fa fa-plus"></i></a>
    <div class="wrapper wrapper-content animated fadeInRight">
      <div class="row users-section" ng-class="{'loading': show_loading}">
        <div class="col-lg-12">
          <div class="users-area">
            <div ng-show="users.length == 0" class="message-block">
              <i class="fa fa-info-circle"></i>
              <h2>No User Added</h2>
              <h4>Click on Add button to Add New User</h4>
            </div>
            <ul class="users-list" data-users="users" ng-repeat="role in grpUsers">
               {{role.user_role}}
              <li ng-repeat="user in role.data track by $index" ng-class="{'deactivate': user.is_active == false, 'inactive': user.is_active == false}">
                <div class="ibox">
                  <div class="header">
                    <div class="img-holder"><img src="assets/images/person-img.png" alt=""></div>
                    <h5>{{user.first_name}} {{user.last_name}}</h5>
                  </div>
                  <ul>
                    <li>
                      <span class="title">Phone No :</span>
                      <div class="text">{{user.phone_no}}</div>
                    </li>
                    <li ng-if="child_role == 2 || child_role == 3">
                      <span class="title">Branch :</span>
                      <div class="text" ng-show="user.branch">
                        {{user.branch.name}}
                      </div>
                      <div class="text" ng-hide="user.branch">
                        <a ng-click="edit(user, $index)">
                        Add Branch
                      </a>
                      </div>
                    </li>
                    <li>
                      <span class="title">User Name :</span>
                      <div class="text">{{user.username}}</div>
                    </li>
                    <li>
                      <span class="title">Email :</span>
                      <div class="text">{{user.email}}</div>
                    </li>
                    <li>
                      <span class="title">Status :</span>
                      <div class="text">{{user.status}}</div>
                    </li>
                    <li>
                      <span class="title">Role :</span>
                      <div class="text">{{user.user_role}}</div>
                    </li>
                    <li ng-if="child_role == 4">
                      <span class="title">Region:</span>
                      <div class="text" ng-show="user.region">
                        {{user.region.name}}
                      </div>
                      <div class="text" ng-hide="user.region">
                        <a ng-click="edit(user, $index)"> Add Region </a>
                      </div>
                    </li>
                  </ul>
                  <div class="btn-box">
                    <span class="btn-holder">
                      <a ng-click = "edit(user, $index)" class="fa fa-pencil-square-o" title = "Edit User"></a>
                    </span>
                    <span class="btn-holder">
                      <a ng-click = "deactivate(user, $index)" title = "Activate/Deactivate User" ng-class="{'fa fa-user btn-active': (user.is_active == false), 'fa fa-user-times btn-deactive': (user.is_active == true)}"></a>
                    </span>
                    <span class="btn-holder">
                      <a ng-click = "disassociate(user, $index)" title = "Disassociate User" class="fa fa-remove" ng-if = "(child_role == 4 && user.region) || (( child_role == 3) && (user.branch))"></a>
                    </span>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div footer></div>
</div>