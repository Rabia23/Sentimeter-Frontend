<div id="wrapper">
  <ui-view name="sidebar"></ui-view>
  <div id="page-wrapper" class="gray-bg">
    <ui-view name="header"></ui-view>
    <div class="wrapper wrapper-content animated fadeInRight">
      <div class="row promotions" ng-class="{loading: show_loading, cloading: show_loader}">
        <flash-message show-close="true" on-dismiss="onAlertDismiss(flash)"></flash-message>
        <div class="col-lg-12">
          <div class="row">
            <div class="col-xs-12">
              <div class="calendar-box">
                <div class="ibox">
                  <div class="ibox-content">
                    <div class="calender-outer">
                      <span class="calendar-holder">
                        <input date-range-picker id="daterange-map" readonly="readonly" name="daterange-map" class="date-picker" type="text" ng-model="date" max="today" options = "datePickerOption" readonly="true"/>
                        <i class="fa fa-calendar" map-range-click></i>
                      </span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row grid-container">
            <div class="col-xs-12">
              <ul class="grids-holder">
                <li class="grid-item" ng-repeat="question in ::questions track by $index">
                  <div class="ibox float-e-margins">
                    <div class="ibox-title">
                      <h3>{{::question.question}}</h3>
                    </div>
                    <div class="ibox-content" ng-if="::question.type == 5">
                      <div class="data-container">
                        <div id="graph_{{$index}}" class="bar-holder">
                          <div class="progres-container">
                            <div class="progress-area">
                              <div class="progress-holder" ng-repeat="dat in ::question.question_bar_chart" data-color="::dat.colour" data-data="::question.question_bar_chart" question-bar-background>
                                <div class="progress-inner">
                                  <small><em>{{::dat.name}} <b>{{::dat.count}} Views</b></em></small>
                                  <div class="progress-block">
                                    <uib-progressbar animate="false" value="::dat.percentage" type="success"></uib-progressbar>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="ibox-content" ng-if="::question.type == 4" question-pie-chart data-data="::question.question_pie_chart">
                      <div class="data-container">
                        <div class="inner-holder" ng-hide="all_zero">
                          <div id={{question.question_pie_chart[0]}} style="width:100%; height:300px"></div>
                          <ul class="legend-items">
                            <li ng-repeat = "label in ::question.question_pie_chart[1]">
                              <strong class="count">{{::label['column-1']}}</strong>
                              <div class="text-holder">
                                <span class="bullet" back-ground data-color="::label.color"></span>
                                {{::label.category}}
                              </div>
                            </li>
                          </ul>
                        </div>
                        <div ng-show="all_zero" class="message-holder">
                          <h2>No Data Available</h2>
                        </div>
                      </div>
                    </div>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <ui-view name="footer"></ui-view>
</div>